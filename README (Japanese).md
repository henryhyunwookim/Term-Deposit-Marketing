# 金融商品の顧客セグメンテーションおよび加入予測

### <b>背景</b>

クライアントは主にヨーロッパの銀行業界において機械学習ソリューションを提供することに焦点を当てている小規模なスタートアップ企業です。彼らは不正行為の検出、感情の分類、顧客の意図の予測と分類など、さまざまな課題に取り組んでおり、現在はコールセンターから得られた顧客情報を活用した堅牢な機械学習システムの開発に興味を持っています。

クライアントは顧客に提供するあらゆる金融商品に対する、顧客へのアウトバウンドコールの成功率を向上させる方法を模索しています。この目標に向けて、テレマーケティングの成功率向上および情報に基づいた意思決定に役立てる、解釈性の高い機械学習システムの構築を図っています。

### <b>データ記述</b>

今回のプロジェクトで扱うデータは欧州のある銀行のダイレクトマーケティング活動から収集されました。マーケティングキャンペーンでは、顧客に電話をかけ商品（この度のキャンペーンでは定期預金）の購入を勧誘します。一般的に、定期購入を確保するため、同じ顧客に何度も連絡を取ることが多いです。個人情報を明らかにする可能性があるすべての顧客情報は、プライバシーの懸念から削除されています。<br>
＊定期預金は通常、満期が1か月から数年までの短期預金であり、一段購入したら満期後にのみ資金を引き出すことができます。

#### 特徴量
- 年齢（age）：顧客の年齢（数値型）
- 職業（job）：仕事の種類 （カテゴリ型）
- 婚姻（marital）：婚姻状況（カテゴリ型）
- 教育（education）：教育水準（カテゴリ型）
- デフォルト（default）：信用がデフォルトになっているか（バイナリ型）
- 残高（balance）：平均年間残高 （数値型、ユーロ単位）
- 住宅（housing）：住宅ローンがあるか（バイナリ型）
- ローン（loan）：個人ローンがあるか（バイナリ型）
- 連絡（contact）：連絡手段（カテゴリ型）
- 日（day）：月の最後の連絡日（カテゴリ型）
- 月（month）：年の最後の連絡月（カテゴリ型）
- 通話時間（duration）：最後の連絡の通話時間（数値型、秒単位）
- キャンペーン（campaign）：キャンペーン期間中に行われた顧客への連絡の数（数値型、最後の連絡を含む）

#### 予測ターゲット
- y：顧客は定期預金に加入したか（バイナリ型）

### <b>目標</b>
- 顧客が定期預金に申し込みするかどうかを予測する（すなわち、「ｙ」変数の値を予測する）
- 予測モデルの性能を5分割交差検証を通じて評価し、平均精度81％以上を達成する
- 投資商品を購入する可能性が高い顧客を見つけることにも興味を持っているため、クライアントが優先すべき顧客セグメントを特定する
- 顧客の購入（加入）決定と各特徴間の関連性を分析し、クライアントがより焦点を当てるべき特徴を特定する

### <b>結果</b>

<u>金融商品の加入予測モデル</u>

予測モデルの成功指標は、顧客の定期預金への加入状況（すなわち、「ｙ」変数の値）を81％以上のの精度で予測することでした。今回開発した予測モデルは、その速さと有効性に定評があるXGBClassifierであり、5分割交差検証で評価した結果、目標の81%をはるかに超える精度93.5%を達成しました。このような非常に高い精度には以下の点が大きく寄与したと考えられます。

- 豊富なデータ：モデルの学習と検証を行う際に、多様な情報を持つ約4万名の顧客のデータを利用
- 特徴量エンジニアリング：カテゴリ変数を最大限活用するため、（数値型の特徴量を含む）元の14から74列に変換し、モデリングに利用
- 効果的なサンプリング戦略：予測ターゲットの「ｙ」変数は、「はい（yes）」が7%、「いいえ（no）」が93%で、非常に不均衡でした。この不均衡なターゲットクラスに、効果的なサンプリング手法で対処

<u>顧客セグメンテーション</u>

商品を購入する可能性が高い顧客セグメントを特定するため、顧客の異なる特徴を多角的に分析しました。これには、加入者と非加入者という2つのグループ間の割合の比較分析が含まれています。この総合的な分析により、次のような貴重な洞察が得られました。

- 年齢（Age）：顧客の大部分が60歳未満であったにもかかわらず、定期購入の成功率は60歳以上の顧客の方(39%) が若い年齢層 (7%) と比較して著しく高かったです。それゆえに、加入する傾向がより高い高齢層に戦略的に焦点を当てることを推奨します。

- 住宅ローン（Housing Loan）：加入者の49%が住宅ローンを持っていない一方で、非加入者の中で住宅ローンを持っていないのはそれより低い39%でした。これは、住宅ローンを抱えていない顧客が加入する可能性がより高いことを示します。

- 婚姻状況（Marital Status）：独身および離婚した顧客を合わせると、加入者全体のほぼ半数を占めている一方で、非加入者グループでは40%以下を占めていました。すなわち、既婚者より結婚していない顧客が加入する傾向が強いということです。

- 教育水準（Education Level）：全体として、加入者の教育水準が非加入者に比べて高かったです。これは、教育水準が低い個人向けの商品を設計したり、教育水準の高い顧客層を対象とした商品を強化したりする機会があることを示唆しています。

- 職種（Job Type）：分析の結果、ブルーカラー顧客層における加入者と非加入者の間に大きなギャップがあることが明らかになりました。ブルーカラーの顧客は非加入者の23.8％を占めているのとは対照的に、加入者の中では18.2%しか占めていないため、ブルーカラーの顧客は加入する可能性が低いことが分かりました。一方、管理職の顧客はより高い購入率を示していました（加入者 23.2% 対 非加入者 19.8%）。さらに、学生、退職者、および無職の顧客層は、最も高い加入者対非加入者の比率を示しており、それぞれの割合は15.6％、10.5％、および8.7％でした。これは、例えば、加入者と非加入者を含むすべての学生の中で、15.6％が加入者であり、他の職種の顧客層の加入者の割合はそれより低かったことを意味します。

これらの分析結果に従って、クライアントは以下の特徴を持つ顧客をターゲット層として絞り込み、より有効なマーケティング戦略を立案することができます。
- 60歳以上
- 住宅ローンがない
- 独身および離婚している
- 高等教育を受けている
- 管理職

このようなターゲットを絞ったアプローチは、全体的なマーケティング効果を向上し、加入率も高めると期待できます。

<u>より重要な特徴量（すなわち、顧客の定期購入との関連性が高い特徴量）</u>

定期預金商品を購入するという顧客の意思決定に影響を与える要因を特定するため、さまざまな顧客の特徴を詳しく調査しました。この取り組みは、クライアントが最も影響力のある側面に向けて取り組みを進めるようガイドすることを目的としています。

XGBoost分類モデルから算出された特徴量重要度スコアによると、次の特徴量が最も重要であると特定されました。

- 月（month）
- 住宅（housing）
- 婚姻（marital）
- 連絡（contact）
- 教育（education）
- 職業（job）
- 日（day）

これら以外の特徴量の重要度スコアは0.05未満であり、顧客の加入を予測する際の相対的に弱い役割を示していました。

「日」と「月」が重要な特徴量として特定されましたが、月日と顧客の購入との関係だけではなく、マーケティングの取り組みとの関連性を理解することが不可欠です。すなわち、特定の月日・期間・季節などにおける具体的な会社・市場の状況を考慮した上で、月日と顧客の購入との関係を理解する必要があります。そのためには、より多様な情報を含む広範なデータセットが必要となります。マーケティングデータをコールセンターデータに組み合わせて分析することで、顧客の購入に関与する要因について理解を深め、それに応じて戦略をブラッシュアップできると期待できます。

<u>まとめ</u>

このプロジェクトで得られたノウハウとソリューション (例えば、包括的な特徴量分析、機械学習の予測モデルなど) は、類似したビジネス課題に効果的に適用することができます。具体的には、これらのソリューションは、顧客データやコールセンターデータが関わる分類問題に活用できます。

今回のプロジェクトで得た知識やスキルを最大限活かせるためには、マーケティングおよび銀行業界に関連するビジネス問題の解決に活用することを推奨します。この度扱ったデータはコールセンターから取得しましたが、データセットの中に同様の情報が含まれている限り、顧客の購入予測などに同じように利用できます。

### <b>ノートブック</b>

詳細については、<a href='https://github.com/henryhyunwookim/JAPANESE-TermDepositMarketing/blob/main/Term%20Deposit%20Marketing.ipynb'>このノートブック</a>を直接ご参照ください。

ノートブック（Term Deposit Marketing.ipynb）をローカル環境で実行するには、このリポジトリをクローン（複製）またはフォーク（派生）し、下記のコマンドを実行することで、必要なライブラリーをインストールしてください。

pip install -r requirements.txt

##### <i>* アプジバ（Apziva）に関連</i>